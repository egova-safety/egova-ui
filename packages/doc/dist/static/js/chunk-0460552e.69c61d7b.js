(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0460552e"],{"0b8c":function(n,t,e){"use strict";var a={};e.r(a),e.d(a,"map",function(){return d}),e.d(a,"setting",function(){return m});var i={};e.r(i),e.d(i,"point",function(){return u}),e.d(i,"edit",function(){return s}),e.d(i,"heatmap",function(){return f}),e.d(i,"track",function(){return y});var o={};e.r(o),e.d(o,"selectBox",function(){return b}),e.d(o,"infoWindow",function(){return L}),e.d(o,"overlay",function(){return C});e("cadf"),e("551c"),e("f751"),e("097d");var r='\n<template>\n    <fm-map vid="esri_map" ></fm-map>\n</template>\n\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component\nexport default class Map extends View\n{\n\n}\n<\/script>',d=r,l='\nimport { setting, MapLoader } from "src/index";\n\nsetting.arcgis = {\n    ...setting.arcgis, ...{\n        arcgisApi: "http://120.202.26.100:8081/arcgis4js/library/3.21/",\n        routeUrl: "",\n        center: [118.573, 37.446],\n        wkid: 4326,\n        wkidFromApp: 4326,\n        zoom: 9,\n        slider: false,\n        basemap: "dark-gray-vector",\n        logo: false,\n        sliderPosition: "bottom-left"\n    }\n};\nsetting.mapType = "arcgis";\nMapLoader.loadCss(setting.arcgis);\nMapLoader.loadScript(setting.arcgis);',m=l,p='\n<template>\n    <fm-map ref="fwAmap"   vid="esri_map">\n        <fm-point-layer vid="tollgateLayer"\n                        :enableCluster="false" :symbol="symbol" :source="dataList"\n                        @onLayerClick="onLayerClick" @changeStandardModel="onChangeStandardModel">\n        </fm-point-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component\nexport default class PointLayerView extends View\n{\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected symbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',u=p,c='\n<template>\n    <fm-map vid="esri_map" >\n        <fm-edit-layer @onEditInfo="onEditInfo">\n            <fm-point-layer vid="tollgateLayer"\n                :enableCluster="false" :enableEdit="true" :showInfoWindow="true" :symbol="symbol" :source="dataList"\n                @changeStandardModel="onChangeStandardModel">\n            </fm-point-layer>\n        </fm-edit-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html")  })\nexport default class EditLayerView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected symbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected onEditInfo(model: any, isSave: boolean): Promise<boolean> {\n        return new Promise<boolean>((resolve, reject) => {\n            alert(model.id);\n            resolve(true);\n        });\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',s=c,g='\n<template>\n    <fm-map  vid="esri_map">\n        <fm-heatmap-layer vid="heatmapLayer" :source="dataList" @changeStandardModel="onChangeStandardModel">\n        </fm-heatmap-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html")  })\nexport default class HeatmapLayerView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected onChangeStandardModel(model: any) {\n        return {\n            longitude: Math.ceil(<number>model.longitude * 1000) / 1000,\n            latitude: Math.ceil(<number>model.latitude * 1000) / 1000\n        };\n    }\n}\n<\/script>',f=g,h='\n<template>\n    <fm-map  vid="esri_map">\n        <fm-track-layer :symbol="carSymbol" @getImageUrl="getImageUrl" @getImageAngle="getImageAngle" @on-build="onTrackBuild">\n            <fm-point-layer vid="tollgateLayer" :source="dataList" :enableCluster="false" :enableEdit="true" :showInfoWindow="true" :symbol="pointSymbol"\n                @onLayerClick="onLayerClick" @changeStandardModel="onChangeStandardModel">\n            </fm-point-layer>\n        </fm-track-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html")  })\nexport default class HeatmapLayerView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected trackLayer: maps.FlagwindTrackLayer;\n\n    protected carSymbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/car.png"\n    };\n\n    protected pointSymbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected getImageUrl(trackLine: maps.TrackLine, angle: number) {\n        return "./static/map/car.png";\n    }\n\n    protected getImageAngle(trackLine: maps.TrackLine, angle: number) {\n        return angle;\n    }\n\n    protected onTrackBuild(layer: maps.FlagwindTrackLayer) {\n        this.trackLayer = layer;\n        layer.showTrackToolBox();\n    }\n\n    protected startTrack() {\n        this.trackLayer.startTrack(this.dataList);\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',y=h,w='\n<template>\n    <fm-map  vid="esri_map" >\n        <fm-select-box @onCheckChanged="onCheckChanged">\n            <fm-point-layer\n                vid="tollgateLayer"\n                :enableCluster="false"\n                :showInfoWindow="true"\n                :symbol="symbol"\n                :source="dataList"\n                @changeStandardModel="onChangeStandardModel">\n            </fm-point-layer>\n        </fm-select-box>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html") })\nexport default class SelectBoxView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected symbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected onCheckChanged(evt: any) {\n        alert(evt);\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',b=w,v='\n<template>\n<fm-map  vid="esri_map">\n\n    <fm-point-layer vid="tollgateLayer" :enableCluster="false" :showInfoWindow="true" :symbol="pointSymbol"\n        :source="dataList" @changeStandardModel="onChangeStandardModel">\n        <fm-info-window :showWare="true">\n        </fm-info-window>\n    </fm-point-layer>\n\n    <fm-info-window ref="fmInfoWindow" @click="onClick" :point="position" :title="title" :showWare="true">\n        <template slot="content">自定义内容</template>\n        <template slot="footer">\n            <div style="float:right;padding:4px;">\n                <i-button type="primary">确定</i-button>\n                <i-button type="error">取消</i-button>\n            </div>\n        </template>\n    </fm-info-window>\n\n</fm-map>\n\n<i-button @click="onOpenInfoWindow">显示信息窗口</i-button>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html") })\nexport default class InfoWindowView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected position: any = {\n        id: "5",\n        name: "李妈",\n        longitude: 118.7135,\n        latitude: 37.1468\n    };\n\n    protected title: string = "标题";\n\n    protected layer: maps.FlagwindBusinessLayer;\n\n    protected pointSymbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected point = {\n        longitude: 118.7135,\n        latitude: 37.1468,\n        data: { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    };\n\n    protected onOpenInfoWindow() {\n        let infoWindow = <InfoWindowComponent>this.$refs.fmInfoWindow;\n        infoWindow.show();\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',L=v,k='\n<template>\n    <fm-map  vid="esri_map">\n        <fm-overlay :point="point">\n            这是一个遮罩物<br />\n            你可以在这里放你自己的组件，显示在地图上{{point.data.name}}\n        </fm-overlay>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html") })\nexport default class OverlayView extends View {\n    protected point = {\n        longitude: 118.7135,\n        latitude: 37.1468,\n        data: { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    };\n}\n\n<\/script>',C=k;e.d(t,"b",function(){return a}),e.d(t,"a",function(){return i}),e.d(t,"c",function(){return o})},"1bf3":function(n,t,e){"use strict";e.r(t);var a=e("795b"),i=e.n(a),o=e("85f2"),r=e.n(o),d=e("7618"),l=e("268f"),m=e.n(l),p=e("4aa6"),u=e.n(p),c=e("4d16"),s=e.n(c),g=e("6d9c"),f=e("0b8c"),h=function(){var n=function(t,e){return n=s.a||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])},n(t,e)};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?u()(e):(a.prototype=e.prototype,new a)}}(),y=function(n,t,e,a){var i,o=arguments.length,l=o<3?t:null===a?a=m()(t,e):a;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)l=Reflect.decorate(n,t,e,a);else for(var p=n.length-1;p>=0;p--)(i=n[p])&&(l=(o<3?i(l):o>3?i(t,e,l):i(t,e))||l);return o>3&&l&&r()(t,e,l),l},w=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.code=f["a"],t.dataList=[{id:"1",name:"张三",longitude:118.5731,latitude:37.61462},{id:"2",name:"李娜",longitude:118.1332,latitude:37.48463},{id:"3",name:"五三",longitude:118.3833,latitude:37.6466},{id:"4",name:"原因",longitude:118.5634,latitude:37.9463},{id:"5",name:"李妈",longitude:118.7135,latitude:37.1468}],t.symbol={height:32,width:32,imageUrl:"./static/map/point.png"},t}return h(t,n),t.prototype.onEditInfo=function(n,t){return new i.a(function(t,e){alert(n.id),t(!0)})},t.prototype.onChangeStandardModel=function(n){return n},t=y([Object(g["component"])({template:e("7a7f")})],t),t}(g["View"]);t["default"]=w},"7a7f":function(n,t){n.exports='<div class="v-intro">\r\n    <h1>Edit Layer</h1>\r\n    <h2>一、概述</h2>\r\n    <p>EditLayer组件对应flagwind map中的FlagwindEditLayer类，用于对点要素图层坐标修改；使用时必须给它指定一个PointLayer组件用为他的子组件。</p>\r\n\r\n    <h2>二、示例</h2>\r\n    <u-example title="说明">\r\n        <template slot="case">\r\n            <fm-map vid="esri_map" >\r\n                <fm-edit-layer @onEditInfo="onEditInfo">\r\n                    <fm-point-layer vid="tollgateLayer" :enableCluster="false" :enableEdit="true" :showInfoWindow="true"\r\n                        :symbol="symbol" :source="dataList" @changeStandardModel="onChangeStandardModel">\r\n                    </fm-point-layer>\r\n                </fm-edit-layer>\r\n            </fm-map>\r\n        </template>\r\n        <template slot="desc">\r\n            <p>Edit Layer组件必须在Map组件之下，Point Layer组件之上。</p>\r\n            <p>点击要修改的要素点，在弹出的信息窗口点击“更改修改”，然后把要素拖放至相应的位置上，点击“完成”按钮，完成坐标更改。</p>\r\n        </template>\r\n        <u-code slot="code" lang="html">{{code.edit}}</u-code>\r\n    </u-example>\r\n    <div class="api">\r\n        <h2>API</h2>\r\n        <h3>属性</h3>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>名称</th>\r\n                    <th>说明</th>\r\n                    <th>数据类型</th>\r\n                    <th>属性类型</th>\r\n                    <th>默认值</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>options</td>\r\n                    <td>图层参数</td>\r\n                    <td>any</td>\r\n                    <td>静态属性</td>\r\n                    <td></td>\r\n                </tr>\r\n            </tbody>\r\n\r\n        </table>\r\n\r\n        <h3>事件</h3>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>事件名</th>\r\n                    <th>说明</th>\r\n                    <th>参数</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>on-build</td>\r\n                    <td>组件构建完成回调。</td>\r\n                    <td>(layer:IFlagwindEditLayer)</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>confirm</td>\r\n                    <td>编辑坐标提示确认方法定义</td>\r\n                    <td>(context: { title: string; content: any; onOk: () => void; onCancel: () => void })</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>onEditInfo</td>\r\n                    <td>坐标更新回调</td>\r\n                    <td>(model: { id: string; latitude: number; longitude: number }, isSave: boolean): Promise</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n</div>\r\n'}}]);