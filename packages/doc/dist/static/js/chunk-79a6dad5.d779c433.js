(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79a6dad5"],{"0b8c":function(n,t,e){"use strict";var a={};e.r(a),e.d(a,"map",function(){return r}),e.d(a,"setting",function(){return m});var d={};e.r(d),e.d(d,"point",function(){return u}),e.d(d,"edit",function(){return s}),e.d(d,"heatmap",function(){return f}),e.d(d,"track",function(){return y});var o={};e.r(o),e.d(o,"selectBox",function(){return b}),e.d(o,"infoWindow",function(){return L}),e.d(o,"overlay",function(){return k});e("cadf"),e("551c"),e("f751"),e("097d");var i='\n<template>\n    <fm-map vid="esri_map" ></fm-map>\n</template>\n\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component\nexport default class Map extends View\n{\n\n}\n<\/script>',r=i,l='\nimport { setting, MapLoader } from "src/index";\n\nsetting.arcgis = {\n    ...setting.arcgis, ...{\n        arcgisApi: "http://120.202.26.100:8081/arcgis4js/library/3.21/",\n        routeUrl: "",\n        center: [118.573, 37.446],\n        wkid: 4326,\n        wkidFromApp: 4326,\n        zoom: 9,\n        slider: false,\n        basemap: "dark-gray-vector",\n        logo: false,\n        sliderPosition: "bottom-left"\n    }\n};\nsetting.mapType = "arcgis";\nMapLoader.loadCss(setting.arcgis);\nMapLoader.loadScript(setting.arcgis);',m=l,p='\n<template>\n    <fm-map ref="fwAmap"   vid="esri_map">\n        <fm-point-layer vid="tollgateLayer"\n                        :enableCluster="false" :symbol="symbol" :source="dataList"\n                        @onLayerClick="onLayerClick" @changeStandardModel="onChangeStandardModel">\n        </fm-point-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component\nexport default class PointLayerView extends View\n{\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected symbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',u=p,c='\n<template>\n    <fm-map vid="esri_map" >\n        <fm-edit-layer @onEditInfo="onEditInfo">\n            <fm-point-layer vid="tollgateLayer"\n                :enableCluster="false" :enableEdit="true" :showInfoWindow="true" :symbol="symbol" :source="dataList"\n                @changeStandardModel="onChangeStandardModel">\n            </fm-point-layer>\n        </fm-edit-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html")  })\nexport default class EditLayerView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected symbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected onEditInfo(model: any, isSave: boolean): Promise<boolean> {\n        return new Promise<boolean>((resolve, reject) => {\n            alert(model.id);\n            resolve(true);\n        });\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',s=c,g='\n<template>\n    <fm-map  vid="esri_map">\n        <fm-heatmap-layer vid="heatmapLayer" :source="dataList" @changeStandardModel="onChangeStandardModel">\n        </fm-heatmap-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html")  })\nexport default class HeatmapLayerView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected onChangeStandardModel(model: any) {\n        return {\n            longitude: Math.ceil(<number>model.longitude * 1000) / 1000,\n            latitude: Math.ceil(<number>model.latitude * 1000) / 1000\n        };\n    }\n}\n<\/script>',f=g,h='\n<template>\n    <fm-map  vid="esri_map">\n        <fm-track-layer :symbol="carSymbol" @getImageUrl="getImageUrl" @getImageAngle="getImageAngle" @on-build="onTrackBuild">\n            <fm-point-layer vid="tollgateLayer" :source="dataList" :enableCluster="false" :enableEdit="true" :showInfoWindow="true" :symbol="pointSymbol"\n                @onLayerClick="onLayerClick" @changeStandardModel="onChangeStandardModel">\n            </fm-point-layer>\n        </fm-track-layer>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html")  })\nexport default class HeatmapLayerView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected trackLayer: maps.FlagwindTrackLayer;\n\n    protected carSymbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/car.png"\n    };\n\n    protected pointSymbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected getImageUrl(trackLine: maps.TrackLine, angle: number) {\n        return "./static/map/car.png";\n    }\n\n    protected getImageAngle(trackLine: maps.TrackLine, angle: number) {\n        return angle;\n    }\n\n    protected onTrackBuild(layer: maps.FlagwindTrackLayer) {\n        this.trackLayer = layer;\n        layer.showTrackToolBox();\n    }\n\n    protected startTrack() {\n        this.trackLayer.startTrack(this.dataList);\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',y=h,w='\n<template>\n    <fm-map  vid="esri_map" >\n        <fm-select-box @onCheckChanged="onCheckChanged">\n            <fm-point-layer\n                vid="tollgateLayer"\n                :enableCluster="false"\n                :showInfoWindow="true"\n                :symbol="symbol"\n                :source="dataList"\n                @changeStandardModel="onChangeStandardModel">\n            </fm-point-layer>\n        </fm-select-box>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html") })\nexport default class SelectBoxView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected symbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected onCheckChanged(evt: any) {\n        alert(evt);\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',b=w,v='\n<template>\n<fm-map  vid="esri_map">\n\n    <fm-point-layer vid="tollgateLayer" :enableCluster="false" :showInfoWindow="true" :symbol="pointSymbol"\n        :source="dataList" @changeStandardModel="onChangeStandardModel">\n        <fm-info-window :showWare="true">\n        </fm-info-window>\n    </fm-point-layer>\n\n    <fm-info-window ref="fmInfoWindow" @click="onClick" :point="position" :title="title" :showWare="true">\n        <template slot="content">自定义内容</template>\n        <template slot="footer">\n            <div style="float:right;padding:4px;">\n                <i-button type="primary">确定</i-button>\n                <i-button type="error">取消</i-button>\n            </div>\n        </template>\n    </fm-info-window>\n\n</fm-map>\n\n<i-button @click="onOpenInfoWindow">显示信息窗口</i-button>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html") })\nexport default class InfoWindowView extends View {\n    protected dataList = [\n        { id: "1", name: "张三", longitude: 118.5731, latitude: 37.61462 },\n        { id: "2", name: "李娜", longitude: 118.1332, latitude: 37.48463 },\n        { id: "3", name: "五三", longitude: 118.3833, latitude: 37.6466 },\n        { id: "4", name: "原因", longitude: 118.5634, latitude: 37.9463 },\n        { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    ];\n\n    protected position: any = {\n        id: "5",\n        name: "李妈",\n        longitude: 118.7135,\n        latitude: 37.1468\n    };\n\n    protected title: string = "标题";\n\n    protected layer: maps.FlagwindBusinessLayer;\n\n    protected pointSymbol = {\n        height: 32,\n        width: 32,\n        imageUrl: "./static/map/point.png"\n    };\n\n    protected point = {\n        longitude: 118.7135,\n        latitude: 37.1468,\n        data: { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    };\n\n    protected onOpenInfoWindow() {\n        let infoWindow = <InfoWindowComponent>this.$refs.fmInfoWindow;\n        infoWindow.show();\n    }\n\n    protected onChangeStandardModel(model: any) {\n        return model;\n    }\n}\n<\/script>',L=v,C='\n<template>\n    <fm-map  vid="esri_map">\n        <fm-overlay :point="point">\n            这是一个遮罩物<br />\n            你可以在这里放你自己的组件，显示在地图上{{point.data.name}}\n        </fm-overlay>\n    </fm-map>\n</template>\n<script lang="ts">\n\nimport { component, View } from "@egova/flagwind-web";\n\n@component({ template: require("./index.html") })\nexport default class OverlayView extends View {\n    protected point = {\n        longitude: 118.7135,\n        latitude: 37.1468,\n        data: { id: "5", name: "李妈", longitude: 118.7135, latitude: 37.1468 }\n    };\n}\n\n<\/script>',k=C;e.d(t,"b",function(){return a}),e.d(t,"a",function(){return d}),e.d(t,"c",function(){return o})},"9e83":function(n,t){n.exports='<div class="v-intro">\n    <h1>画板图层</h1>\n    <h2>一、概述</h2>\n    <p>Geojson Layer 使用html画板技术对地图要素进行展示，它的效率会比较高。但控制粒度会更粗一些，不能对单个要素进行修改操作，除非整体刷新图层</p>\n\n    <h2>二、示例</h2>\n    <u-example title="说明">\n        <template slot="case">\n            <fm-map ref="fwAmap" vid="esri_map">\n                <fm-geojson-layer vid="canvasLayer" :source="dataList" @getImages="onGetImages"\n                    @changeStandardModel="onChangeStandardModel">\n                    <fm-info-window :showWare="true">\n                    </fm-info-window>\n                </fm-geojson-layer>\n            </fm-map>\n        </template>\n        <template slot="desc">\n            <p>热力图层是Map的子组件，须放置在Map组件下面。</p>\n\n        </template>\n        <u-code slot="code" lang="html">{{code.heatmap}}</u-code>\n    </u-example>\n    <i-button @click="onChangeSource">修改数据源</i-button>\n    <div class="api">\n        <h2>API</h2>\n        <h3>属性</h3>\n        <table>\n            <thead>\n                <tr>\n                    <th>名称</th>\n                    <th>说明</th>\n                    <th>数据类型</th>\n                    <th>属性类型</th>\n                    <th>默认值</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>vid</td>\n                    <td>对象唯一标识</td>\n                    <td>string</td>\n                    <td>静态属性</td>\n                    <td>必填</td>\n                </tr>\n                <tr>\n                    <td>options</td>\n                    <td>地层参数</td>\n                    <td>any</td>\n                    <td>静态属性</td>\n                    <td></td>\n                </tr>\n\n                <tr>\n                    <td>symbol</td>\n                    <td>要素样式</td>\n                    <td>any</td>\n                    <td>静态属性</td>\n                    <td>必填</td>\n                </tr>\n\n                <tr>\n                    <td>showInfoWindow</td>\n                    <td>要素单击时，是否显示信息窗口</td>\n                    <td>boolean</td>\n                    <td>动态属性</td>\n                    <td></td>\n                </tr>\n                <tr>\n                    <td>showTooltip</td>\n                    <td>要素悬停时，是否显示tooltip信息。</td>\n                    <td>boolean</td>\n                    <td>静态属性</td>\n                    <td></td>\n                </tr>\n\n            </tbody>\n\n        </table>\n\n        <h3>事件</h3>\n        <table>\n            <thead>\n                <tr>\n                    <th>事件名</th>\n                    <th>说明</th>\n                    <th>参数</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>on-build</td>\n                    <td>组件构建完成回调。</td>\n                    <td>(layer:FlagwindBusinessLayer)</td>\n                </tr>\n                <tr>\n                    <td>onLayerClick</td>\n                    <td>图层要素单击事件。</td>\n                    <td>(evt:any)</td>\n                </tr>\n                <tr>\n                    <td>onVisibleChanged</td>\n                    <td>图层可见性变换回调事件。</td>\n                    <td>(isShow: boolean)</td>\n                </tr>\n                <tr>\n                    <td>getImages</td>\n                    <td>自定义要素图标，它的优先级高于symbol，默认为null。</td>\n                    <td>()</td>\n                </tr>\n                <tr>\n                    <td>changeStandardModel</td>\n                    <td>标准化实体转换方法。</td>\n                    <td>(model: any)</td>\n                </tr>\n                <tr>\n                    <td>getInfoWindowContext</td>\n                    <td>信息弹窗方法。返回结果如：{title: "详细信息", content: "没有定制详细信息"}\n                    </td>\n                    <td>(mode: any)</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n\n</div>\n'},af11:function(n,t,e){"use strict";e.r(t);var a=e("85f2"),d=e.n(a),o=e("7618"),i=e("268f"),r=e.n(i),l=e("5176"),m=e.n(l),p=e("4aa6"),u=e.n(p),c=e("4d16"),s=e.n(c),g=e("6d9c"),f=e("0b8c"),h=function(){var n=function(t,e){return n=s.a||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])},n(t,e)};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?u()(e):(a.prototype=e.prototype,new a)}}(),y=function(){return y=m.a||function(n){for(var t,e=1,a=arguments.length;e<a;e++)for(var d in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,d)&&(n[d]=t[d]);return n},y.apply(this,arguments)},w=function(n,t,e,a){var i,l=arguments.length,m=l<3?t:null===a?a=r()(t,e):a;if("object"===("undefined"===typeof Reflect?"undefined":Object(o["a"])(Reflect))&&"function"===typeof Reflect.decorate)m=Reflect.decorate(n,t,e,a);else for(var p=n.length-1;p>=0;p--)(i=n[p])&&(m=(l<3?i(m):l>3?i(t,e,m):i(t,e))||m);return l>3&&m&&d()(t,e,m),m},b=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.code=f["a"],t.dataList=[{id:"1",name:"张三",longitude:118.5731,latitude:37.61462,image:"point1"},{id:"2",name:"李娜",longitude:118.1332,latitude:37.48463,image:"point1"},{id:"3",name:"五三",longitude:118.3833,latitude:37.6466,image:"point1"},{id:"4",name:"原因",longitude:118.5634,latitude:37.9463,image:"point1"},{id:"5",name:"李妈",longitude:118.7135,latitude:37.1468,image:"point1"}],t}return h(t,n),t.prototype.onGetImages=function(){return[{name:"point1",url:"./static/map/point.png"}]},t.prototype.onChangeSource=function(){this.dataList=[{id:"1",name:"张三",longitude:118.5731,latitude:37.61462,image:"point1"},{id:"2",name:"李娜",longitude:118.1332,latitude:37.48463,image:"point1"}]},t.prototype.onChangeStandardModel=function(n){return y({},n,{longitude:Math.ceil(1e3*n.longitude)/1e3,latitude:Math.ceil(1e3*n.latitude)/1e3})},t=w([Object(g["component"])({template:e("9e83")})],t),t}(g["View"]);t["default"]=b}}]);